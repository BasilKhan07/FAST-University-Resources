INCLUDE Irvine32.inc

.data
arr WORD 10, 4, 7, 14, 299, 156, 3, 19, 29, 300, 20
count dword 11
index dword 0 
prompt1 BYTE "Given Array: ",0
prompt2 BYTE "Sorted Array using Bubble sort: ",0
.code
main PROC
	; For printing given array
	mov edx, offset prompt1
	call Writestring
	call Crlf
	call Crlf
	mov eax, 0
	mov esi, 0
	mov ecx, Lengthof arr
	L3:
		mov ax, arr[esi]
		call Writedec
		mov al, " "
		call Writechar
		add esi, type arr
	Loop L3

	; Method for bubble sort
	mov ebx, 0
	mov edx, 0
	mov eax, 0
	mov esi, 0
	mov ecx, lengthof arr
	L1:
		push ecx
		mov ecx, count
		mov edi, index
		L2:
			mov dx, arr[esi]
			cmp dx, arr[edi]
			jg swap
			jmp L100
			swap:
				mov bx, arr[edi]
				mov arr[esi], bx
				mov arr[edi], dx
			L100:
			add edi, type arr
		Loop L2
	add index, 2
	dec count
	add esi, type arr
	pop ecx
	Loop L1

	; For printing sorted array
	call Crlf
	call Crlf
	mov edx, offset prompt2
	call Writestring
	call Crlf
	call Crlf
	mov esi, 0
	mov ecx, Lengthof arr
	L4:
		mov ax, arr[esi]
		call Writedec
		mov al, " "
		call Writechar
		add esi, type arr
	Loop L4
	call Crlf
	exit
main ENDP
END main